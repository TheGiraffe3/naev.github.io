<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <!--Old html 4.0.1 way <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> -->
  <!--<meta charset="UTF-8">--><!-- New HTML5 way -->
  <!-- Mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Favourite icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://naev.org/favicon-180.png">
  <link rel="icon" type="image/png" sizes="196x196" href="https://naev.org/favicon-196.png">
  <link rel="icon" type="image/png" sizes="128x128" href="https://naev.org/favicon-128.png">
  <link rel="icon" type="image/png" sizes="64x64" href="https://naev.org/favicon-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://naev.org/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://naev.org/favicon-16.png">
  <link rel="shortcut icon" type="image/x-icon" href="https://naev.org/favicon.ico">
  <link rel="stylesheet" href="../ldoc.css"><!-- CSS -->
  <link rel="stylesheet" href=https://naev.org/style.css><!-- CSS -->
  <title>Naev Lua API</title><!-- Website information -->
</head>
<body class="bg-light">
  <div id="naev-header" class="container-fluid nebula-bg">
    <div class="container">
      <a href="https://naev.org/"><img src="https://naev.org/imgs/naev.png" alt="Naev"></a>
    </div>
  </div>
  <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
    <div class="container">
      <a class="p-0 navbar-brand" href="#"><img id="logo" class="img-fluid" src="https://naev.org/favicon.png" alt=
      "Naev"></a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=
      "#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label=
      "Toggle navigation"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse justify-content-between" id="navbarNavAltMarkup">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="https://naev.org/">Blarg</a></li>
          <li class="nav-item"><a class="nav-link" href="https://naev.org/about/">About</a></li>
          <li class="nav-item"><a class="nav-link" href="https://naev.org/media/">Media</a></li>
          <li class="nav-item"><a class="nav-link" href="https://naev.org/downloads/">Downloads</a></li>
          <li class="nav-item"><a class="nav-link" href=
          "https://github.com/naev/naev">Github</a></li>
          <li class="nav-item"><a class="nav-link" href=
          "https://github.com/naev/naev/wiki">Wiki</a></li>
          <li class="nav-item"><a class="nav-link" href="https://discord.com/invite/nd2M5BR">Discord</a></li>
          <li class="nav-item"><a class="nav-link" href="https://naev.org/api">Lua API</a></li>
        </ul>
      </div>
    </div>
  </nav>

<div id="lDoc_container">

<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Naev Lua API</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/ai.html">ai</a></li>
  <li><a href="../modules/audio.html">audio</a></li>
  <li><a href="../modules/bkg.html">bkg</a></li>
  <li><a href="../modules/camera.html">camera</a></li>
  <li><a href="../modules/canvas.html">canvas</a></li>
  <li><a href="../modules/colour.html">colour</a></li>
  <li><a href="../modules/commodity.html">commodity</a></li>
  <li><a href="../modules/data.html">data</a></li>
  <li><a href="../modules/diff.html">diff</a></li>
  <li><a href="../modules/evt.html">evt</a></li>
  <li><a href="../modules/faction.html">faction</a></li>
  <li><a href="../modules/file.html">file</a></li>
  <li><a href="../modules/font.html">font</a></li>
  <li><a href="../modules/gfx.html">gfx</a></li>
  <li><a href="../modules/gui.html">gui</a></li>
  <li><a href="../modules/hook.html">hook</a></li>
  <li><a href="../modules/jump.html">jump</a></li>
  <li><a href="../modules/misn.html">misn</a></li>
  <li><a href="../modules/music.html">music</a></li>
  <li><a href="../modules/naev.html">naev</a></li>
  <li><a href="../modules/news.html">news</a></li>
  <li><a href="../modules/outfit.html">outfit</a></li>
  <li><a href="../modules/pilot.html">pilot</a></li>
  <li><a href="../modules/planet.html">planet</a></li>
  <li><a href="../modules/player.html">player</a></li>
  <li><a href="../modules/rnd.html">rnd</a></li>
  <li><a href="../modules/shader.html">shader</a></li>
  <li><a href="../modules/ship.html">ship</a></li>
  <li><a href="../modules/shiplog.html">shiplog</a></li>
  <li><a href="../modules/system.html">system</a></li>
  <li><a href="../modules/tex.html">tex</a></li>
  <li><a href="../modules/time.html">time</a></li>
  <li><a href="../modules/tk.html">tk</a></li>
  <li><a href="../modules/transform.html">transform</a></li>
  <li><a href="../modules/var.html">var</a></li>
  <li><a href="../modules/vec2.html">vec2</a></li>
  <li><strong>vn</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>vn</code></h1>
<p>-- Visual Novel API for Naev
--
-- Based on Love2D API
-- @module vn</p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#update">update (dt)</a></td>
	<td class="summary">-- Main updating function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#keypressed">keypressed (key)</a></td>
	<td class="summary">[[
 Key press handler.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mousepressed">mousepressed (mx, my, button)</a></td>
	<td class="summary">[[
 Mouse press handler.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#na">na (what, nowait)</a></td>
	<td class="summary">[[
 Makes the narrator say something.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#vn.Character:say">vn.Character:say (what, nowait)</a></td>
	<td class="summary">[[
 Makes a player say something.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#vn.Character.new">vn.Character.new (who, params)</a></td>
	<td class="summary">[[
 Creates a new character without adding it to the VN.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#newCharacter">newCharacter (who, params)</a></td>
	<td class="summary">[[
 Creates a new character.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#scene">scene (background)</a></td>
	<td class="summary">[[
 Starts a new scene.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#say">say (who, what, nowait)</a></td>
	<td class="summary">[[
 Has a character say something.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#menu">menu (items, handler)</a></td>
	<td class="summary">[[
 Opens a menu the player can select from.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#label">label (label)</a></td>
	<td class="summary">[[
 Inserts a label.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#jump">jump (label)</a></td>
	<td class="summary">[[
 Inserts a jump.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#done">done (...)</a></td>
	<td class="summary">[[
 Finishes the VN.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#animation">animation (seconds)</a></td>
	<td class="summary">[[
 Allows doing arbitrary animations.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#func">func (func)</a></td>
	<td class="summary">[[
 Runs a function and continues execution.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#sfx">sfx (sfx)</a></td>
	<td class="summary">[[
 Plays a sound.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#custom">custom ()</a></td>
	<td class="summary">[[
 Custom states.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isDone">isDone ()</a></td>
	<td class="summary">[[
 Checks to see if the VN is done running or not.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#run">run ()</a></td>
	<td class="summary">[[
 Runs the visual novel environment.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clear">clear ()</a></td>
	<td class="summary">[[
 Clears the fundamental running variables.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#reset">reset ()</a></td>
	<td class="summary">[[
 Fully resets the VN environment to default values.</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#State">State</a></td>
	<td class="summary">[[
 State
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateScene">StateScene</a></td>
	<td class="summary">[[
 Scene
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateCharacter">StateCharacter</a></td>
	<td class="summary">[[
 Character
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateSay">StateSay</a></td>
	<td class="summary">[[
 Say
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateWait">StateWait</a></td>
	<td class="summary">[[
 Wait
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateMenu">StateMenu</a></td>
	<td class="summary">[[
 Menu
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateLabel">StateLabel</a></td>
	<td class="summary">[[
 Label
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateJump">StateJump</a></td>
	<td class="summary">[[
 Jump
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateStart">StateStart</a></td>
	<td class="summary">[[
 Start
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateEnd">StateEnd</a></td>
	<td class="summary">[[
 End
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#StateAnimation">StateAnimation</a></td>
	<td class="summary">[[
 Animation
]]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Character">Character</a></td>
	<td class="summary">[[
 Character
]]</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "update"></a>
    <strong>update (dt)</strong>
    </dt>
    <dd>
    -- Main updating function.
--    @param dt Update tick.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">dt</span>
        Out of states
        </li>
    </ul>





</dd>
    <dt>
    <a name = "keypressed"></a>
    <strong>keypressed (key)</strong>
    </dt>
    <dd>
    [[
 Key press handler.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">key</span>
         Name of the key pressed.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "mousepressed"></a>
    <strong>mousepressed (mx, my, button)</strong>
    </dt>
    <dd>
    [[
 Mouse press handler.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mx</span>
         X position of the click.
        </li>
        <li><span class="parameter">my</span>
         Y position of the click.
        </li>
        <li><span class="parameter">button</span>
         Button that was pressed.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "na"></a>
    <strong>na (what, nowait)</strong>
    </dt>
    <dd>
    [[
 Makes the narrator say something.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">what</span>

        </li>
        <li><span class="parameter">nowait</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "vn.Character:say"></a>
    <strong>vn.Character:say (what, nowait)</strong>
    </dt>
    <dd>
    [[
 Makes a player say something.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">what</span>

        </li>
        <li><span class="parameter">nowait</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "vn.Character.new"></a>
    <strong>vn.Character.new (who, params)</strong>
    </dt>
    <dd>
    [[
 Creates a new character without adding it to the VN.
 <em>Note</em> The character can be added with vn.newCharacter.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">who</span>
         Name of the character to add.
        </li>
        <li><span class="parameter">params</span>
         Parameter table.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        New character.
    </ol>




</dd>
    <dt>
    <a name = "newCharacter"></a>
    <strong>newCharacter (who, params)</strong>
    </dt>
    <dd>
    [[
 Creates a new character.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">who</span>
         Name (or previously created character) to add.
        </li>
        <li><span class="parameter">params</span>
         Parameter table.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        New character.
    </ol>




</dd>
    <dt>
    <a name = "scene"></a>
    <strong>scene (background)</strong>
    </dt>
    <dd>
    [[
 Starts a new scene.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">background</span>
         Background image to set or none if nil.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "say"></a>
    <strong>say (who, what, nowait)</strong>
    </dt>
    <dd>
    [[
 Has a character say something.
<p> <em>Note</em> "me" and "narrator" are specila meta-characters.
<p>]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">who</span>
         The name of the character that is saying something.
        </li>
        <li><span class="parameter">what</span>
         What the character is saying.
        </li>
        <li><span class="parameter">nowait</span>
         Whether or not to introduce a wait or just skip to the next text right away (defaults to false).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "menu"></a>
    <strong>menu (items, handler)</strong>
    </dt>
    <dd>
    [[
 Opens a menu the player can select from.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">items</span>
         Table of items to select from, they should be of the form "{text, label}" where "text" is what is displayed and "label" is what is passed to the handler.
        </li>
        <li><span class="parameter">handler</span>
         Function to handle what happens when an item is selecetdd. Defaults to vn.jump.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "label"></a>
    <strong>label (label)</strong>
    </dt>
    <dd>
    [[
 Inserts a label.  This does nothing but serve as a reference for vn.jump
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">label</span>
         Name of the label to insert.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "jump"></a>
    <strong>jump (label)</strong>
    </dt>
    <dd>
    [[
 Inserts a jump.  This skips to a certain label.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">label</span>
         Name of the label to jump to.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "done"></a>
    <strong>done (...)</strong>
    </dt>
    <dd>
    [[
 Finishes the VN.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "animation"></a>
    <strong>animation (seconds)</strong>
    </dt>
    <dd>
    [[
 Allows doing arbitrary animations.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seconds</span>
         Seconds to perform the animation
        </li>
    </ul>





</dd>
    <dt>
    <a name = "func"></a>
    <strong>func (func)</strong>
    </dt>
    <dd>
    [[
 Runs a function and continues execution.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">func</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "sfx"></a>
    <strong>sfx (sfx)</strong>
    </dt>
    <dd>
    [[
 Plays a sound.
]]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sfx</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "custom"></a>
    <strong>custom ()</strong>
    </dt>
    <dd>
    [[
 Custom states.  Only use if you know what you are doing.
]]







</dd>
    <dt>
    <a name = "isDone"></a>
    <strong>isDone ()</strong>
    </dt>
    <dd>
    [[
 Checks to see if the VN is done running or not.
]]



    <h3>Returns:</h3>
    <ol>

        true if it is done running, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "run"></a>
    <strong>run ()</strong>
    </dt>
    <dd>
    [[
 Runs the visual novel environment.
<p> <em>Note</em> You have to set up the states first.
 <em>Note</em> This function doesn't return until the VN is done running.
]]







</dd>
    <dt>
    <a name = "clear"></a>
    <strong>clear ()</strong>
    </dt>
    <dd>
    [[
 Clears the fundamental running variables.  Run before starting a new VN instance.
<p> <em>Note</em> Leaves customization to colors and positions untouched.
]]







</dd>
    <dt>
    <a name = "reset"></a>
    <strong>reset ()</strong>
    </dt>
    <dd>
    [[
 Fully resets the VN environment to default values.
<p> <em>Note</em> This automatically does vn.clear() too.
]]







</dd>
</dl>
    <h2><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "State"></a>
    <strong>State</strong>
    </dt>
    <dd>
    [[
 State
]]







</dd>
    <dt>
    <a name = "StateScene"></a>
    <strong>StateScene</strong>
    </dt>
    <dd>
    [[
 Scene
]]







</dd>
    <dt>
    <a name = "StateCharacter"></a>
    <strong>StateCharacter</strong>
    </dt>
    <dd>
    [[
 Character
]]







</dd>
    <dt>
    <a name = "StateSay"></a>
    <strong>StateSay</strong>
    </dt>
    <dd>
    [[
 Say
]]







</dd>
    <dt>
    <a name = "StateWait"></a>
    <strong>StateWait</strong>
    </dt>
    <dd>
    [[
 Wait
]]







</dd>
    <dt>
    <a name = "StateMenu"></a>
    <strong>StateMenu</strong>
    </dt>
    <dd>
    [[
 Menu
]]







</dd>
    <dt>
    <a name = "StateLabel"></a>
    <strong>StateLabel</strong>
    </dt>
    <dd>
    [[
 Label
]]







</dd>
    <dt>
    <a name = "StateJump"></a>
    <strong>StateJump</strong>
    </dt>
    <dd>
    [[
 Jump
]]







</dd>
    <dt>
    <a name = "StateStart"></a>
    <strong>StateStart</strong>
    </dt>
    <dd>
    [[
 Start
]]







</dd>
    <dt>
    <a name = "StateEnd"></a>
    <strong>StateEnd</strong>
    </dt>
    <dd>
    [[
 End
]]







</dd>
    <dt>
    <a name = "StateAnimation"></a>
    <strong>StateAnimation</strong>
    </dt>
    <dd>
    [[
 Animation
]]







</dd>
    <dt>
    <a name = "Character"></a>
    <strong>Character</strong>
    </dt>
    <dd>
    [[
 Character
]]







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-03-04 06:13:26 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
<div class="container-fluid nebula-bg mt-5">
    <div class="container">
        <footer class="row text-muted">
            <p class="col-xs-12 col-sm-6 text-left">© 2021 Naev Development Blarg</p>
            <p class="col-xs-12 col-sm-6 text-right">Original content licensed under CC-By-SA 4.0</p>
        </footer>
    </div>
</div>
</body>
</html>
