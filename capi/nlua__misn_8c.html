<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>naev: /home/runner/work/naev.github.io/naev.github.io/staging/src/nlua_misn.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo32.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">naev
   &#160;<span id="projectnumber">0.9.0-alpha.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">nlua_misn.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the mission Lua bindings.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;nlua_misn.h&quot;</code><br />
<code>#include &quot;<a class="el" href="array_8h_source.html">array.h</a>&quot;</code><br />
<code>#include &quot;gui_osd.h&quot;</code><br />
<code>#include &quot;land.h&quot;</code><br />
<code>#include &quot;log.h&quot;</code><br />
<code>#include &quot;mission.h&quot;</code><br />
<code>#include &quot;music.h&quot;</code><br />
<code>#include &quot;ndata.h&quot;</code><br />
<code>#include &quot;nlua.h&quot;</code><br />
<code>#include &quot;nlua_audio.h&quot;</code><br />
<code>#include &quot;nlua_bkg.h&quot;</code><br />
<code>#include &quot;nlua_camera.h&quot;</code><br />
<code>#include &quot;nlua_commodity.h&quot;</code><br />
<code>#include &quot;nlua_faction.h&quot;</code><br />
<code>#include &quot;nlua_hook.h&quot;</code><br />
<code>#include &quot;nlua_music.h&quot;</code><br />
<code>#include &quot;nlua_player.h&quot;</code><br />
<code>#include &quot;nlua_system.h&quot;</code><br />
<code>#include &quot;nlua_tex.h&quot;</code><br />
<code>#include &quot;nlua_tk.h&quot;</code><br />
<code>#include &quot;nluadef.h&quot;</code><br />
<code>#include &quot;npc.h&quot;</code><br />
<code>#include &quot;nstring.h&quot;</code><br />
<code>#include &quot;nxml.h&quot;</code><br />
<code>#include &quot;player.h&quot;</code><br />
<code>#include &quot;rng.h&quot;</code><br />
<code>#include &quot;shiplog.h&quot;</code><br />
<code>#include &quot;toolkit.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nlua_misn.c:</div>
<div class="dyncontent">
<div class="center"><img src="nlua__misn_8c__incl.png" border="0" usemap="#_2home_2runner_2work_2naev_8github_8io_2naev_8github_8io_2staging_2src_2nlua__misn_8c" alt=""/></div>
<map name="_2home_2runner_2work_2naev_8github_8io_2naev_8github_8io_2staging_2src_2nlua__misn_8c" id="_2home_2runner_2work_2naev_8github_8io_2naev_8github_8io_2staging_2src_2nlua__misn_8c">
<area shape="rect" title="Handles the mission Lua bindings." alt="" coords="2758,5,2999,61"/>
<area shape="rect" href="nlua__misn_8h_source.html" title=" " alt="" coords="904,184,1005,211"/>
<area shape="rect" href="mission_8h_source.html" title=" " alt="" coords="920,483,1005,509"/>
<area shape="rect" href="nxml_8h_source.html" title=" " alt="" coords="908,632,975,659"/>
<area shape="rect" href="log_8h_source.html" title=" " alt="" coords="550,707,605,733"/>
<area shape="rect" href="nstring_8h_source.html" title=" " alt="" coords="473,781,551,808"/>
<area shape="rect" href="nlua_8h_source.html" title=" " alt="" coords="2974,632,3037,659"/>
<area shape="rect" href="array_8h.html" title="Provides macros to work with dynamic arrays." alt="" coords="63,259,129,285"/>
<area shape="rect" href="gui__osd_8h_source.html" title=" " alt="" coords="3597,109,3681,136"/>
<area shape="rect" href="land_8h_source.html" title=" " alt="" coords="1027,109,1090,136"/>
<area shape="rect" href="music_8h_source.html" title=" " alt="" coords="3705,109,3778,136"/>
<area shape="rect" href="ndata_8h_source.html" title=" " alt="" coords="3802,109,3873,136"/>
<area shape="rect" href="nlua__audio_8h_source.html" title=" " alt="" coords="2993,184,3098,211"/>
<area shape="rect" href="nlua__bkg_8h_source.html" title=" " alt="" coords="3079,259,3172,285"/>
<area shape="rect" href="nlua__camera_8h_source.html" title=" " alt="" coords="3145,483,3263,509"/>
<area shape="rect" href="nlua__commodity_8h_source.html" title=" " alt="" coords="2725,483,2867,509"/>
<area shape="rect" href="nlua__faction_8h_source.html" title=" " alt="" coords="3224,184,3339,211"/>
<area shape="rect" href="nlua__hook_8h_source.html" title=" " alt="" coords="3319,259,3420,285"/>
<area shape="rect" href="nlua__music_8h_source.html" title=" " alt="" coords="3385,333,3493,360"/>
<area shape="rect" href="nlua__player_8h_source.html" title=" " alt="" coords="3440,483,3549,509"/>
<area shape="rect" href="nlua__system_8h_source.html" title=" " alt="" coords="2699,109,2816,136"/>
<area shape="rect" href="nlua__tex_8h_source.html" title=" " alt="" coords="2644,557,2735,584"/>
<area shape="rect" href="nlua__tk_8h_source.html" title=" " alt="" coords="3545,184,3628,211"/>
<area shape="rect" href="nluadef_8h_source.html" title=" " alt="" coords="341,632,424,659"/>
<area shape="rect" href="npc_8h_source.html" title=" " alt="" coords="955,408,1013,435"/>
<area shape="rect" href="player_8h_source.html" title=" " alt="" coords="243,259,317,285"/>
<area shape="rect" href="rng_8h_source.html" title=" " alt="" coords="3897,109,3951,136"/>
<area shape="rect" href="shiplog_8h_source.html" title=" " alt="" coords="393,557,474,584"/>
<area shape="rect" href="toolkit_8h_source.html" title=" " alt="" coords="601,557,677,584"/>
<area shape="rect" href="claim_8h_source.html" title=" " alt="" coords="854,557,925,584"/>
<area shape="rect" href="opengl_8h_source.html" title=" " alt="" coords="1413,707,1491,733"/>
<area shape="rect" href="commodity_8h_source.html" title=" " alt="" coords="1240,557,1347,584"/>
<area shape="rect" href="attributes_8h_source.html" title=" " alt="" coords="179,856,277,883"/>
<area shape="rect" href="ncompat_8h_source.html" title=" " alt="" coords="467,856,557,883"/>
<area shape="rect" href="colour_8h_source.html" title=" " alt="" coords="1669,931,1742,957"/>
<area shape="rect" href="opengl__matrix_8h_source.html" title=" " alt="" coords="1540,781,1668,808"/>
<area shape="rect" href="opengl__render_8h_source.html" title=" " alt="" coords="1389,781,1515,808"/>
<area shape="rect" href="opengl__tex_8h_source.html" title=" " alt="" coords="1652,856,1759,883"/>
<area shape="rect" href="physics_8h_source.html" title=" " alt="" coords="2105,931,2188,957"/>
<area shape="rect" href="opengl__vbo_8h_source.html" title=" " alt="" coords="1284,856,1393,883"/>
<area shape="rect" href="opengl__shader_8h_source.html" title=" " alt="" coords="1743,781,1871,808"/>
<area shape="rect" title=" " alt="" coords="1175,781,1289,808"/>
<area shape="rect" href="conf_8h_source.html" title=" " alt="" coords="1029,184,1091,211"/>
<area shape="rect" href="space_8h_source.html" title=" " alt="" coords="1823,184,1895,211"/>
<area shape="rect" href="explosion_8h_source.html" title=" " alt="" coords="1761,259,1858,285"/>
<area shape="rect" href="pilot_8h_source.html" title=" " alt="" coords="1877,333,1939,360"/>
<area shape="rect" href="faction_8h_source.html" title=" " alt="" coords="2470,557,2549,584"/>
<area shape="rect" href="tech_8h_source.html" title=" " alt="" coords="1189,333,1251,360"/>
<area shape="rect" href="outfit_8h_source.html" title=" " alt="" coords="1486,483,1554,509"/>
<area shape="rect" href="collision_8h_source.html" title=" " alt="" coords="1371,557,1459,584"/>
<area shape="rect" href="shipstats_8h_source.html" title=" " alt="" coords="1581,557,1675,584"/>
<area shape="rect" href="sound_8h_source.html" title=" " alt="" coords="1483,557,1557,584"/>
<area shape="rect" href="spfx_8h_source.html" title=" " alt="" coords="1970,557,2033,584"/>
<area shape="rect" href="ntime_8h_source.html" title=" " alt="" coords="2079,632,2151,659"/>
<area shape="rect" href="pilot__flags_8h_source.html" title=" " alt="" coords="1477,408,1579,435"/>
<area shape="rect" href="ai_8h_source.html" title=" " alt="" coords="2759,557,2806,584"/>
<area shape="rect" href="ship_8h_source.html" title=" " alt="" coords="1189,408,1251,435"/>
<area shape="rect" href="pilot__cargo_8h_source.html" title=" " alt="" coords="1603,408,1709,435"/>
<area shape="rect" href="pilot__heat_8h_source.html" title=" " alt="" coords="1733,408,1832,435"/>
<area shape="rect" href="pilot__hook_8h_source.html" title=" " alt="" coords="1857,408,1959,435"/>
<area shape="rect" href="pilot__outfit_8h_source.html" title=" " alt="" coords="1984,408,2088,435"/>
<area shape="rect" href="pilot__weapon_8h_source.html" title=" " alt="" coords="2113,408,2234,435"/>
<area shape="rect" href="pilot__ew_8h_source.html" title=" " alt="" coords="2259,408,2347,435"/>
<area shape="rect" title=" " alt="" coords="43,333,107,360"/>
<area shape="rect" href="player__autonav_8h_source.html" title=" " alt="" coords="131,333,266,360"/>
<area shape="rect" href="font_8h_source.html" title=" " alt="" coords="719,632,779,659"/>
<area shape="rect" title=" " alt="" coords="601,632,695,659"/>
</map>
</div>
</div>
<p><a href="nlua__misn_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7945d8650000779fb62cd8166a0ad4ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a7945d8650000779fb62cd8166a0ad4ba">misn_setTitle</a> (lua_State *L)</td></tr>
<tr class="memdesc:a7945d8650000779fb62cd8166a0ad4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> Lua bindings.  <a href="nlua__misn_8c.html#a7945d8650000779fb62cd8166a0ad4ba">More...</a><br /></td></tr>
<tr class="separator:a7945d8650000779fb62cd8166a0ad4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac56673d1d6b225af654ef3dabd336b7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#aac56673d1d6b225af654ef3dabd336b7">misn_setDesc</a> (lua_State *L)</td></tr>
<tr class="memdesc:aac56673d1d6b225af654ef3dabd336b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current mission description.  <a href="nlua__misn_8c.html#aac56673d1d6b225af654ef3dabd336b7">More...</a><br /></td></tr>
<tr class="separator:aac56673d1d6b225af654ef3dabd336b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ab8ab7c1f02d12a7ffe6ad258faf4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a98ab8ab7c1f02d12a7ffe6ad258faf4e">misn_setReward</a> (lua_State *L)</td></tr>
<tr class="memdesc:a98ab8ab7c1f02d12a7ffe6ad258faf4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current mission reward description.  <a href="nlua__misn_8c.html#a98ab8ab7c1f02d12a7ffe6ad258faf4e">More...</a><br /></td></tr>
<tr class="separator:a98ab8ab7c1f02d12a7ffe6ad258faf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb82edc3c26d042d9b7afbea5363011f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#afb82edc3c26d042d9b7afbea5363011f">misn_setNPC</a> (lua_State *L)</td></tr>
<tr class="memdesc:afb82edc3c26d042d9b7afbea5363011f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current mission NPC.  <a href="nlua__misn_8c.html#afb82edc3c26d042d9b7afbea5363011f">More...</a><br /></td></tr>
<tr class="separator:afb82edc3c26d042d9b7afbea5363011f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c43078201c8549f2daa899576da792e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a0c43078201c8549f2daa899576da792e">misn_factions</a> (lua_State *L)</td></tr>
<tr class="memdesc:a0c43078201c8549f2daa899576da792e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the factions the mission is available for.  <a href="nlua__misn_8c.html#a0c43078201c8549f2daa899576da792e">More...</a><br /></td></tr>
<tr class="separator:a0c43078201c8549f2daa899576da792e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e39666e27ad2c31684507f19b15e856"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a9e39666e27ad2c31684507f19b15e856">misn_accept</a> (lua_State *L)</td></tr>
<tr class="memdesc:a9e39666e27ad2c31684507f19b15e856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to accept the mission.  <a href="nlua__misn_8c.html#a9e39666e27ad2c31684507f19b15e856">More...</a><br /></td></tr>
<tr class="separator:a9e39666e27ad2c31684507f19b15e856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566fb35f7a927f0ba197f0218346ce85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a566fb35f7a927f0ba197f0218346ce85">misn_finish</a> (lua_State *L)</td></tr>
<tr class="memdesc:a566fb35f7a927f0ba197f0218346ce85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes the mission.  <a href="nlua__misn_8c.html#a566fb35f7a927f0ba197f0218346ce85">More...</a><br /></td></tr>
<tr class="separator:a566fb35f7a927f0ba197f0218346ce85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a9215a40dab38a523f66354923b7b9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a84a9215a40dab38a523f66354923b7b9">misn_markerAdd</a> (lua_State *L)</td></tr>
<tr class="memdesc:a84a9215a40dab38a523f66354923b7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new marker.  <a href="nlua__misn_8c.html#a84a9215a40dab38a523f66354923b7b9">More...</a><br /></td></tr>
<tr class="separator:a84a9215a40dab38a523f66354923b7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60703c9697f2bcb2dd906ce09bacdcf1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a60703c9697f2bcb2dd906ce09bacdcf1">misn_markerMove</a> (lua_State *L)</td></tr>
<tr class="memdesc:a60703c9697f2bcb2dd906ce09bacdcf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a marker to a new system.  <a href="nlua__misn_8c.html#a60703c9697f2bcb2dd906ce09bacdcf1">More...</a><br /></td></tr>
<tr class="separator:a60703c9697f2bcb2dd906ce09bacdcf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6349e181151c3acae34a8e60a17ef2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#adc6349e181151c3acae34a8e60a17ef2">misn_markerRm</a> (lua_State *L)</td></tr>
<tr class="memdesc:adc6349e181151c3acae34a8e60a17ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a mission system marker.  <a href="nlua__misn_8c.html#adc6349e181151c3acae34a8e60a17ef2">More...</a><br /></td></tr>
<tr class="separator:adc6349e181151c3acae34a8e60a17ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1949b54173fd98ed981c1b353b2875e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#ab1949b54173fd98ed981c1b353b2875e">misn_cargoNew</a> (lua_State *L)</td></tr>
<tr class="memdesc:ab1949b54173fd98ed981c1b353b2875e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new temporary commodity meant for missions. If a temporary commodity with the same name exists, that gets returned instead.  <a href="nlua__misn_8c.html#ab1949b54173fd98ed981c1b353b2875e">More...</a><br /></td></tr>
<tr class="separator:ab1949b54173fd98ed981c1b353b2875e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedabb17f821a3ddd1b25cccfb5de1f37"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#aedabb17f821a3ddd1b25cccfb5de1f37">misn_cargoAdd</a> (lua_State *L)</td></tr>
<tr class="memdesc:aedabb17f821a3ddd1b25cccfb5de1f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds some mission cargo to the player. They cannot sell it nor get rid of it unless they abandons the mission in which case it'll get eliminated.  <a href="nlua__misn_8c.html#aedabb17f821a3ddd1b25cccfb5de1f37">More...</a><br /></td></tr>
<tr class="separator:aedabb17f821a3ddd1b25cccfb5de1f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bdc938a8d4843a42addeba1c2f4a703"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a6bdc938a8d4843a42addeba1c2f4a703">misn_cargoRm</a> (lua_State *L)</td></tr>
<tr class="memdesc:a6bdc938a8d4843a42addeba1c2f4a703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the mission cargo.  <a href="nlua__misn_8c.html#a6bdc938a8d4843a42addeba1c2f4a703">More...</a><br /></td></tr>
<tr class="separator:a6bdc938a8d4843a42addeba1c2f4a703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1a00e9782f1a6a4e9ba590012104da"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#acf1a00e9782f1a6a4e9ba590012104da">misn_cargoJet</a> (lua_State *L)</td></tr>
<tr class="memdesc:acf1a00e9782f1a6a4e9ba590012104da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Jettisons the mission cargo.  <a href="nlua__misn_8c.html#acf1a00e9782f1a6a4e9ba590012104da">More...</a><br /></td></tr>
<tr class="separator:acf1a00e9782f1a6a4e9ba590012104da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a89f6a26fe28d972ad20012630a3830"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a6a89f6a26fe28d972ad20012630a3830">misn_osdCreate</a> (lua_State *L)</td></tr>
<tr class="memdesc:a6a89f6a26fe28d972ad20012630a3830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a mission OSD.  <a href="nlua__misn_8c.html#a6a89f6a26fe28d972ad20012630a3830">More...</a><br /></td></tr>
<tr class="separator:a6a89f6a26fe28d972ad20012630a3830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545356a9f2e73e04aa62d61a35721d61"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a545356a9f2e73e04aa62d61a35721d61">misn_osdDestroy</a> (lua_State *L)</td></tr>
<tr class="memdesc:a545356a9f2e73e04aa62d61a35721d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the mission OSD.  <a href="nlua__misn_8c.html#a545356a9f2e73e04aa62d61a35721d61">More...</a><br /></td></tr>
<tr class="separator:a545356a9f2e73e04aa62d61a35721d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eccf56e59cf282b0060399c6f5dc78f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a4eccf56e59cf282b0060399c6f5dc78f">misn_osdActive</a> (lua_State *L)</td></tr>
<tr class="memdesc:a4eccf56e59cf282b0060399c6f5dc78f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets active in mission OSD.  <a href="nlua__misn_8c.html#a4eccf56e59cf282b0060399c6f5dc78f">More...</a><br /></td></tr>
<tr class="separator:a4eccf56e59cf282b0060399c6f5dc78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90eabaf288a44f2977050735be73e989"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a90eabaf288a44f2977050735be73e989">misn_osdGetActiveItem</a> (lua_State *L)</td></tr>
<tr class="memdesc:a90eabaf288a44f2977050735be73e989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the active OSD element.  <a href="nlua__misn_8c.html#a90eabaf288a44f2977050735be73e989">More...</a><br /></td></tr>
<tr class="separator:a90eabaf288a44f2977050735be73e989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adedae59c4fa0c6c834a64ea4544dd406"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#adedae59c4fa0c6c834a64ea4544dd406">misn_npcAdd</a> (lua_State *L)</td></tr>
<tr class="memdesc:adedae59c4fa0c6c834a64ea4544dd406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an NPC.  <a href="nlua__misn_8c.html#adedae59c4fa0c6c834a64ea4544dd406">More...</a><br /></td></tr>
<tr class="separator:adedae59c4fa0c6c834a64ea4544dd406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342cd5d5548cf21ea8989455f12296d8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a342cd5d5548cf21ea8989455f12296d8">misn_npcRm</a> (lua_State *L)</td></tr>
<tr class="memdesc:a342cd5d5548cf21ea8989455f12296d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an NPC.  <a href="nlua__misn_8c.html#a342cd5d5548cf21ea8989455f12296d8">More...</a><br /></td></tr>
<tr class="separator:a342cd5d5548cf21ea8989455f12296d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b0a6fe811b2b92fd594ae561cf254d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a81b0a6fe811b2b92fd594ae561cf254d">misn_claim</a> (lua_State *L)</td></tr>
<tr class="memdesc:a81b0a6fe811b2b92fd594ae561cf254d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to claim systems or strings.  <a href="nlua__misn_8c.html#a81b0a6fe811b2b92fd594ae561cf254d">More...</a><br /></td></tr>
<tr class="separator:a81b0a6fe811b2b92fd594ae561cf254d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47a8f8bffdc840451e5a6768c46b69d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#af47a8f8bffdc840451e5a6768c46b69d">misn_loadLibs</a> (nlua_env env)</td></tr>
<tr class="memdesc:af47a8f8bffdc840451e5a6768c46b69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers all the mission libraries.  <a href="nlua__misn_8c.html#af47a8f8bffdc840451e5a6768c46b69d">More...</a><br /></td></tr>
<tr class="separator:af47a8f8bffdc840451e5a6768c46b69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35fb1c148891bdbbaf2fbd27534f407"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#ae35fb1c148891bdbbaf2fbd27534f407">nlua_loadMisn</a> (nlua_env env)</td></tr>
<tr class="memdesc:ae35fb1c148891bdbbaf2fbd27534f407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the mission Lua library.  <a href="nlua__misn_8c.html#ae35fb1c148891bdbbaf2fbd27534f407">More...</a><br /></td></tr>
<tr class="separator:ae35fb1c148891bdbbaf2fbd27534f407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5219aad9bb3dfb97b609cfc0a5f1affd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a5219aad9bb3dfb97b609cfc0a5f1affd">misn_tryRun</a> (<a class="el" href="structMission.html">Mission</a> *misn, const char *func)</td></tr>
<tr class="memdesc:a5219aad9bb3dfb97b609cfc0a5f1affd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to run a mission, but doesn't err if it fails.  <a href="nlua__misn_8c.html#a5219aad9bb3dfb97b609cfc0a5f1affd">More...</a><br /></td></tr>
<tr class="separator:a5219aad9bb3dfb97b609cfc0a5f1affd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6cf6e67d87e1f6d6b9f9b7c913df8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#aff6cf6e67d87e1f6d6b9f9b7c913df8c">misn_run</a> (<a class="el" href="structMission.html">Mission</a> *misn, const char *func)</td></tr>
<tr class="memdesc:aff6cf6e67d87e1f6d6b9f9b7c913df8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a mission function.  <a href="nlua__misn_8c.html#aff6cf6e67d87e1f6d6b9f9b7c913df8c">More...</a><br /></td></tr>
<tr class="separator:aff6cf6e67d87e1f6d6b9f9b7c913df8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8731dbe54e71fecf50c5be9068179bf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMission.html">Mission</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a8731dbe54e71fecf50c5be9068179bf1">misn_getFromLua</a> (lua_State *L)</td></tr>
<tr class="memdesc:a8731dbe54e71fecf50c5be9068179bf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the mission that's being currently run in Lua.  <a href="nlua__misn_8c.html#a8731dbe54e71fecf50c5be9068179bf1">More...</a><br /></td></tr>
<tr class="separator:a8731dbe54e71fecf50c5be9068179bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a026ec005db93a1b9a621506202c19"><td class="memItemLeft" align="right" valign="top"><a id="a54a026ec005db93a1b9a621506202c19"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a54a026ec005db93a1b9a621506202c19">misn_runStart</a> (<a class="el" href="structMission.html">Mission</a> *misn, const char *func)</td></tr>
<tr class="memdesc:a54a026ec005db93a1b9a621506202c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the mission to run misn_runFunc. <br /></td></tr>
<tr class="separator:a54a026ec005db93a1b9a621506202c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb99806f35828f198e5bfa1e21a5bca7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#abb99806f35828f198e5bfa1e21a5bca7">misn_runFunc</a> (<a class="el" href="structMission.html">Mission</a> *misn, const char *func, int nargs)</td></tr>
<tr class="memdesc:abb99806f35828f198e5bfa1e21a5bca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a mission set up with misn_runStart.  <a href="nlua__misn_8c.html#abb99806f35828f198e5bfa1e21a5bca7">More...</a><br /></td></tr>
<tr class="separator:abb99806f35828f198e5bfa1e21a5bca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a175948c976006bdb435e3b8ab314957d"><td class="memItemLeft" align="right" valign="top">static const luaL_Reg&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlua__misn_8c.html#a175948c976006bdb435e3b8ab314957d">misn_methods</a> []</td></tr>
<tr class="separator:a175948c976006bdb435e3b8ab314957d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the mission Lua bindings. </p>

<p class="definition">Definition in file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9e39666e27ad2c31684507f19b15e856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e39666e27ad2c31684507f19b15e856">&#9670;&nbsp;</a></span>misn_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_accept </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to accept the mission. </p>
<p><em>Lua usage parameter:</em> if not misn.accept() then return end <em>Lua return parameter:</em> boolean true if mission was properly accepted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> accept </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00586">586</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="aedabb17f821a3ddd1b25cccfb5de1f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedabb17f821a3ddd1b25cccfb5de1f37">&#9670;&nbsp;</a></span>misn_cargoAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_cargoAdd </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds some mission cargo to the player. They cannot sell it nor get rid of it unless they abandons the mission in which case it'll get eliminated. </p>
<p><em>Lua function parameter:</em> string cargo Name of the cargo to add. This must match a cargo name defined in commodity.xml. <em>Lua function parameter:</em> number quantity Quantity of cargo to add. <em>Lua return parameter:</em> number The id of the cargo which can be used in cargoRm. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> cargoAdd </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00694">694</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="acf1a00e9782f1a6a4e9ba590012104da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1a00e9782f1a6a4e9ba590012104da">&#9670;&nbsp;</a></span>misn_cargoJet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_cargoJet </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Jettisons the mission cargo. </p>
<p><em>Lua function parameter:</em> number cargoid ID of the cargo to jettison. <em>Lua return parameter:</em> boolean true on success. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> cargoJet </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00749">749</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="ab1949b54173fd98ed981c1b353b2875e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1949b54173fd98ed981c1b353b2875e">&#9670;&nbsp;</a></span>misn_cargoNew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_cargoNew </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new temporary commodity meant for missions. If a temporary commodity with the same name exists, that gets returned instead. </p>
<p><em>Lua function parameter:</em> string cargo Name of the cargo to add. This must not match a cargo name defined in commodity.xml. <em>Lua function parameter:</em> string decription Description of the cargo to add. <em>Lua return parameter:</em> <a class="el" href="structCommodity.html" title="Represents a commodity.">Commodity</a> The newly created commodity or an existing temporary commodity with the same name. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> cargoNew </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00666">666</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a6bdc938a8d4843a42addeba1c2f4a703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bdc938a8d4843a42addeba1c2f4a703">&#9670;&nbsp;</a></span>misn_cargoRm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_cargoRm </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the mission cargo. </p>
<p><em>Lua function parameter:</em> number cargoid Identifier of the mission cargo. <em>Lua return parameter:</em> boolean true on success. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> cargoRm </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00720">720</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a81b0a6fe811b2b92fd594ae561cf254d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b0a6fe811b2b92fd594ae561cf254d">&#9670;&nbsp;</a></span>misn_claim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_claim </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to claim systems or strings. </p>
<p>Claiming systems and strings is a way to avoid mission collisions preemptively.</p>
<p>Note it does not actually perform the claim if it fails to claim. It also does not work more than once.</p>
<p><em>Lua usage parameter:</em> if not misn.claim( { system.get("Gamma Polaris") } ) then misn.finish( false ) end <em>Lua usage parameter:</em> if not misn.claim( system.get("Gamma Polaris") ) then misn.finish( false ) end <em>Lua usage parameter:</em> if not misn.claim( 'some_string' ) then misn.finish( false ) end <em>Lua usage parameter:</em> if not misn.claim( { system.get("Gamma Polaris"), 'some_string' } ) then misn.finish( false ) end</p>
<p><em>Lua function parameter:</em> System|String|{System,String...} params Table of systems/strings to claim or a single system/string. <em>Lua function parameter:</em>[opt=false] boolean onlytest Whether or not to only test the claim, but not apply it. <em>Lua return parameter:</em> boolean true if was able to claim, false otherwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> claim </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l01008">1008</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a0c43078201c8549f2daa899576da792e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c43078201c8549f2daa899576da792e">&#9670;&nbsp;</a></span>misn_factions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_factions </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the factions the mission is available for. </p>
<p><em>Lua usage parameter:</em> f = misn.factions() <em>Lua return parameter:</em> {<a class="el" href="structFaction.html" title="Represents a faction.">Faction</a>,...} A table containing the factions for whom the mission is available. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> factions </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00559">559</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a566fb35f7a927f0ba197f0218346ce85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566fb35f7a927f0ba197f0218346ce85">&#9670;&nbsp;</a></span>misn_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_finish </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finishes the mission. </p>
<p><em>Lua function parameter:</em>[opt] boolean properly If true and the mission is unique it marks the mission as completed. If false it deletes the mission but doesn't mark it as completed. If the parameter isn't passed it just ends the mission (without removing it from the player's list of active missions). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> finish </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00630">630</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a8731dbe54e71fecf50c5be9068179bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8731dbe54e71fecf50c5be9068179bf1">&#9670;&nbsp;</a></span>misn_getFromLua()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMission.html">Mission</a>* misn_getFromLua </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the mission that's being currently run in Lua. </p>
<p>This should ONLY be called below an nlua_pcall, so __NLUA_CURENV is set </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00199">199</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="af47a8f8bffdc840451e5a6768c46b69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af47a8f8bffdc840451e5a6768c46b69d">&#9670;&nbsp;</a></span>misn_loadLibs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int misn_loadLibs </td>
          <td>(</td>
          <td class="paramtype">nlua_env&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers all the mission libraries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>Lua environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00125">125</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a84a9215a40dab38a523f66354923b7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a9215a40dab38a523f66354923b7b9">&#9670;&nbsp;</a></span>misn_markerAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_markerAdd </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new marker. </p>
<p><em>Lua usage parameter:</em> my_marker = misn.markerAdd( system.get("Gamma Polaris"), "low" )</p>
<p>Valid marker types are:<br  />
</p><ul>
<li>"plot": Important plot marker.<br  />
</li>
<li>"high": High importance mission marker (lower than plot).<br  />
</li>
<li>"low": Low importance mission marker (lower than high).<br  />
</li>
<li><p class="startli">"computer": <a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> computer marker.<br  />
</p>
<p class="startli"><em>Lua function parameter:</em> System sys System to mark. <em>Lua function parameter:</em>[opt="high"] string type Colouring scheme to use. <em>Lua return parameter:</em> number A marker ID to be used with markerMove and markerRm. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> markerAdd </p>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00370">370</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a60703c9697f2bcb2dd906ce09bacdcf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60703c9697f2bcb2dd906ce09bacdcf1">&#9670;&nbsp;</a></span>misn_markerMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_markerMove </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a marker to a new system. </p>
<p><em>Lua usage parameter:</em> misn.markerMove( my_marker, system.get("Delta Pavonis") )</p>
<p><em>Lua function parameter:</em> number id ID of the mission marker to move. <em>Lua function parameter:</em> System sys System to move the marker to. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> markerMove </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00418">418</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="adc6349e181151c3acae34a8e60a17ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6349e181151c3acae34a8e60a17ef2">&#9670;&nbsp;</a></span>misn_markerRm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_markerRm </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a mission system marker. </p>
<p><em>Lua usage parameter:</em> misn.markerRm( my_marker )</p>
<p><em>Lua function parameter:</em> number id ID of the marker to remove. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> markerRm </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00462">462</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="adedae59c4fa0c6c834a64ea4544dd406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adedae59c4fa0c6c834a64ea4544dd406">&#9670;&nbsp;</a></span>misn_npcAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_npcAdd </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds an NPC. </p>
<p><em>Lua usage parameter:</em> npc_id = misn.npcAdd( "my_func", "Mr. Test", "none.webp", "A test." ) &ndash; Creates an NPC.</p>
<p><em>Lua function parameter:</em> string func Name of the function to run when approaching, gets passed the npc_id when called. <em>Lua function parameter:</em> string name Name of the NPC <em>Lua function parameter:</em> string portrait Portrait file name to use for the NPC (from GFX_PATH/portraits/). <em>Lua function parameter:</em> string desc Description associated to the NPC. <em>Lua function parameter:</em>[opt=5] number priority Optional priority argument (highest is 0, lowest is 10). <em>Lua function parameter:</em>[opt=nil] string background Background file name to use (from GFX_PATH/portraits/). <em>Lua return parameter:</em> number The ID of the NPC to pass to npcRm. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> npcAdd </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00923">923</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a342cd5d5548cf21ea8989455f12296d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342cd5d5548cf21ea8989455f12296d8">&#9670;&nbsp;</a></span>misn_npcRm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_npcRm </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes an NPC. </p>
<p><em>Lua usage parameter:</em> misn.npcRm( npc_id )</p>
<p><em>Lua function parameter:</em> number id ID of the NPC to remove. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> npcRm </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00971">971</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a4eccf56e59cf282b0060399c6f5dc78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eccf56e59cf282b0060399c6f5dc78f">&#9670;&nbsp;</a></span>misn_osdActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_osdActive </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets active in mission OSD. </p>
<dl class="section note"><dt>Note</dt><dd>Uses Lua indexes, so 1 is first member, 2 is second and so on.</dd></dl>
<p><em>Lua function parameter:</em> number n Element of the OSD to make active. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> osdActive </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00869">869</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a6a89f6a26fe28d972ad20012630a3830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a89f6a26fe28d972ad20012630a3830">&#9670;&nbsp;</a></span>misn_osdCreate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_osdCreate </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a mission OSD. </p>
<dl class="section note"><dt>Note</dt><dd>You can index elements by using '\t' as first character of an element. </dd>
<dd>
Destroys an osd if it already exists.</dd></dl>
<p><em>Lua usage parameter:</em> misn.osdCreate( "My OSD", {"Element 1", "Element 2"})</p>
<p><em>Lua function parameter:</em> string title Title to give the OSD. <em>Lua function parameter:</em> {string,...} list List of elements to put in the OSD. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> osdCreate </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00785">785</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a545356a9f2e73e04aa62d61a35721d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545356a9f2e73e04aa62d61a35721d61">&#9670;&nbsp;</a></span>misn_osdDestroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_osdDestroy </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys the mission OSD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> osdDestroy </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00847">847</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a90eabaf288a44f2977050735be73e989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90eabaf288a44f2977050735be73e989">&#9670;&nbsp;</a></span>misn_osdGetActiveItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_osdGetActiveItem </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the active OSD element. </p>
<p><em>Lua return parameter:</em> string Th ename of the active element or nil if none. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> osdGetActive </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00891">891</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="aff6cf6e67d87e1f6d6b9f9b7c913df8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6cf6e67d87e1f6d6b9f9b7c913df8c">&#9670;&nbsp;</a></span>misn_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int misn_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMission.html">Mission</a> *&#160;</td>
          <td class="paramname"><em>misn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a mission function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">misn</td><td><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> that owns the function. </td></tr>
    <tr><td class="paramname">func</td><td>Name of the function to call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on error, 1 on misn.finish() call, 2 if mission got deleted and 0 normally. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00183">183</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="abb99806f35828f198e5bfa1e21a5bca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb99806f35828f198e5bfa1e21a5bca7">&#9670;&nbsp;</a></span>misn_runFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int misn_runFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMission.html">Mission</a> *&#160;</td>
          <td class="paramname"><em>misn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a mission set up with misn_runStart. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">misn</td><td><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> that owns the function. </td></tr>
    <tr><td class="paramname">func</td><td>Name of the function to call. </td></tr>
    <tr><td class="paramname">nargs</td><td>Number of arguments to pass. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on error, 1 on misn.finish() call, 2 if mission got deleted, 3 if the mission got accepted, and 0 normally. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00236">236</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="aac56673d1d6b225af654ef3dabd336b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac56673d1d6b225af654ef3dabd336b7">&#9670;&nbsp;</a></span>misn_setDesc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_setDesc </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current mission description. </p>
<p>Also sets the mission OSD unless you explicitly force an OSD, however you can't specify bullet points or other fancy things like with the real OSD.</p>
<p><em>Lua function parameter:</em> string desc Description to use for mission. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> setDesc </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00322">322</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="afb82edc3c26d042d9b7afbea5363011f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb82edc3c26d042d9b7afbea5363011f">&#9670;&nbsp;</a></span>misn_setNPC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_setNPC </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current mission NPC. </p>
<p>This is used in bar missions where you talk to a person. The portraits are the ones found in GFX_PATH/portraits. (For GFX_PATH/portraits/none.webp you would use "none.webp".)</p>
<p>Note that this NPC will disappear when either misn.accept() or misn.finish() is called.</p>
<p><em>Lua usage parameter:</em> misn.setNPC( "Invisible Man", "none.webp", _("You see a levitating mug drain itself.") )</p>
<p><em>Lua function parameter:</em> string name Name of the NPC. <em>Lua function parameter:</em> string portrait File name of the portrait to use for the NPC. <em>Lua function parameter:</em> string desc Description of the NPC to use. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> setNPC </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00514">514</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a98ab8ab7c1f02d12a7ffe6ad258faf4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ab8ab7c1f02d12a7ffe6ad258faf4e">&#9670;&nbsp;</a></span>misn_setReward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_setReward </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current mission reward description. </p>
<p><em>Lua function parameter:</em> string reward Description of the reward to use. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> setReward </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00341">341</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a7945d8650000779fb62cd8166a0ad4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7945d8650000779fb62cd8166a0ad4ba">&#9670;&nbsp;</a></span>misn_setTitle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int misn_setTitle </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> Lua bindings. </p>
<p>Sets the current mission title.</p>
<p>An example would be: </p><div class="fragment"><div class="line">misn.setNPC( <span class="stringliteral">&quot;Keer&quot;</span>, <span class="stringliteral">&quot;empire/unique/keer.webp&quot;</span>, _(<span class="stringliteral">&quot;You see here Commodore Keer.&quot;</span>) )</div>
</div><!-- fragment --><p><em>Lua module:</em> misn</p>
<p><em>Lua function parameter:</em> string title Title to use for mission. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua State </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of variables on the Lua State stack.<br  />
 </dd></dl>
<p><em>Lua function:</em> setTitle </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00300">300</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="a5219aad9bb3dfb97b609cfc0a5f1affd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5219aad9bb3dfb97b609cfc0a5f1affd">&#9670;&nbsp;</a></span>misn_tryRun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int misn_tryRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMission.html">Mission</a> *&#160;</td>
          <td class="paramname"><em>misn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to run a mission, but doesn't err if it fails. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">misn</td><td><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> that owns the function. </td></tr>
    <tr><td class="paramname">func</td><td>Name of the function to call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on error, 1 on misn.finish() call, 2 if mission got deleted and 0 normally. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00160">160</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<a id="ae35fb1c148891bdbbaf2fbd27534f407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35fb1c148891bdbbaf2fbd27534f407">&#9670;&nbsp;</a></span>nlua_loadMisn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nlua_loadMisn </td>
          <td>(</td>
          <td class="paramtype">nlua_env&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the mission Lua library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>Lua environment. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00145">145</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a175948c976006bdb435e3b8ab314957d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175948c976006bdb435e3b8ab314957d">&#9670;&nbsp;</a></span>misn_methods</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const luaL_Reg misn_methods[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">   { <span class="stringliteral">&quot;setTitle&quot;</span>, <a class="code" href="nlua__misn_8c.html#a7945d8650000779fb62cd8166a0ad4ba">misn_setTitle</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;setDesc&quot;</span>, <a class="code" href="nlua__misn_8c.html#aac56673d1d6b225af654ef3dabd336b7">misn_setDesc</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;setReward&quot;</span>, <a class="code" href="nlua__misn_8c.html#a98ab8ab7c1f02d12a7ffe6ad258faf4e">misn_setReward</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;setNPC&quot;</span>, <a class="code" href="nlua__misn_8c.html#afb82edc3c26d042d9b7afbea5363011f">misn_setNPC</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;factions&quot;</span>, <a class="code" href="nlua__misn_8c.html#a0c43078201c8549f2daa899576da792e">misn_factions</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;accept&quot;</span>, <a class="code" href="nlua__misn_8c.html#a9e39666e27ad2c31684507f19b15e856">misn_accept</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;finish&quot;</span>, <a class="code" href="nlua__misn_8c.html#a566fb35f7a927f0ba197f0218346ce85">misn_finish</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;markerAdd&quot;</span>, <a class="code" href="nlua__misn_8c.html#a84a9215a40dab38a523f66354923b7b9">misn_markerAdd</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;markerMove&quot;</span>, <a class="code" href="nlua__misn_8c.html#a60703c9697f2bcb2dd906ce09bacdcf1">misn_markerMove</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;markerRm&quot;</span>, <a class="code" href="nlua__misn_8c.html#adc6349e181151c3acae34a8e60a17ef2">misn_markerRm</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;cargoNew&quot;</span>, <a class="code" href="nlua__misn_8c.html#ab1949b54173fd98ed981c1b353b2875e">misn_cargoNew</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;cargoAdd&quot;</span>, <a class="code" href="nlua__misn_8c.html#aedabb17f821a3ddd1b25cccfb5de1f37">misn_cargoAdd</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;cargoRm&quot;</span>, <a class="code" href="nlua__misn_8c.html#a6bdc938a8d4843a42addeba1c2f4a703">misn_cargoRm</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;cargoJet&quot;</span>, <a class="code" href="nlua__misn_8c.html#acf1a00e9782f1a6a4e9ba590012104da">misn_cargoJet</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;osdCreate&quot;</span>, <a class="code" href="nlua__misn_8c.html#a6a89f6a26fe28d972ad20012630a3830">misn_osdCreate</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;osdDestroy&quot;</span>, <a class="code" href="nlua__misn_8c.html#a545356a9f2e73e04aa62d61a35721d61">misn_osdDestroy</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;osdActive&quot;</span>, <a class="code" href="nlua__misn_8c.html#a4eccf56e59cf282b0060399c6f5dc78f">misn_osdActive</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;osdGetActive&quot;</span>, <a class="code" href="nlua__misn_8c.html#a90eabaf288a44f2977050735be73e989">misn_osdGetActiveItem</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;npcAdd&quot;</span>, <a class="code" href="nlua__misn_8c.html#adedae59c4fa0c6c834a64ea4544dd406">misn_npcAdd</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;npcRm&quot;</span>, <a class="code" href="nlua__misn_8c.html#a342cd5d5548cf21ea8989455f12296d8">misn_npcRm</a> },</div>
<div class="line">   { <span class="stringliteral">&quot;claim&quot;</span>, <a class="code" href="nlua__misn_8c.html#a81b0a6fe811b2b92fd594ae561cf254d">misn_claim</a> },</div>
<div class="line">   {0,0}</div>
<div class="line">}</div>
</div><!-- fragment --><p><a class="el" href="structMission.html" title="Represents an active mission.">Mission</a> Lua methods. </p>

<p class="definition">Definition at line <a class="el" href="nlua__misn_8c_source.html#l00093">93</a> of file <a class="el" href="nlua__misn_8c_source.html">nlua_misn.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="anlua__misn_8c_html_a81b0a6fe811b2b92fd594ae561cf254d"><div class="ttname"><a href="nlua__misn_8c.html#a81b0a6fe811b2b92fd594ae561cf254d">misn_claim</a></div><div class="ttdeci">static int misn_claim(lua_State *L)</div><div class="ttdoc">Tries to claim systems or strings.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l01008">nlua_misn.c:1008</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_adc6349e181151c3acae34a8e60a17ef2"><div class="ttname"><a href="nlua__misn_8c.html#adc6349e181151c3acae34a8e60a17ef2">misn_markerRm</a></div><div class="ttdeci">static int misn_markerRm(lua_State *L)</div><div class="ttdoc">Removes a mission system marker.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00462">nlua_misn.c:462</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_adedae59c4fa0c6c834a64ea4544dd406"><div class="ttname"><a href="nlua__misn_8c.html#adedae59c4fa0c6c834a64ea4544dd406">misn_npcAdd</a></div><div class="ttdeci">static int misn_npcAdd(lua_State *L)</div><div class="ttdoc">Adds an NPC.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00923">nlua_misn.c:923</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a60703c9697f2bcb2dd906ce09bacdcf1"><div class="ttname"><a href="nlua__misn_8c.html#a60703c9697f2bcb2dd906ce09bacdcf1">misn_markerMove</a></div><div class="ttdeci">static int misn_markerMove(lua_State *L)</div><div class="ttdoc">Moves a marker to a new system.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00418">nlua_misn.c:418</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a4eccf56e59cf282b0060399c6f5dc78f"><div class="ttname"><a href="nlua__misn_8c.html#a4eccf56e59cf282b0060399c6f5dc78f">misn_osdActive</a></div><div class="ttdeci">static int misn_osdActive(lua_State *L)</div><div class="ttdoc">Sets active in mission OSD.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00869">nlua_misn.c:869</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_aac56673d1d6b225af654ef3dabd336b7"><div class="ttname"><a href="nlua__misn_8c.html#aac56673d1d6b225af654ef3dabd336b7">misn_setDesc</a></div><div class="ttdeci">static int misn_setDesc(lua_State *L)</div><div class="ttdoc">Sets the current mission description.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00322">nlua_misn.c:322</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a0c43078201c8549f2daa899576da792e"><div class="ttname"><a href="nlua__misn_8c.html#a0c43078201c8549f2daa899576da792e">misn_factions</a></div><div class="ttdeci">static int misn_factions(lua_State *L)</div><div class="ttdoc">Gets the factions the mission is available for.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00559">nlua_misn.c:559</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a545356a9f2e73e04aa62d61a35721d61"><div class="ttname"><a href="nlua__misn_8c.html#a545356a9f2e73e04aa62d61a35721d61">misn_osdDestroy</a></div><div class="ttdeci">static int misn_osdDestroy(lua_State *L)</div><div class="ttdoc">Destroys the mission OSD.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00847">nlua_misn.c:847</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_ab1949b54173fd98ed981c1b353b2875e"><div class="ttname"><a href="nlua__misn_8c.html#ab1949b54173fd98ed981c1b353b2875e">misn_cargoNew</a></div><div class="ttdeci">static int misn_cargoNew(lua_State *L)</div><div class="ttdoc">Creates a new temporary commodity meant for missions. If a temporary commodity with the same name exi...</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00666">nlua_misn.c:666</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a9e39666e27ad2c31684507f19b15e856"><div class="ttname"><a href="nlua__misn_8c.html#a9e39666e27ad2c31684507f19b15e856">misn_accept</a></div><div class="ttdeci">static int misn_accept(lua_State *L)</div><div class="ttdoc">Attempts to accept the mission.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00586">nlua_misn.c:586</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a84a9215a40dab38a523f66354923b7b9"><div class="ttname"><a href="nlua__misn_8c.html#a84a9215a40dab38a523f66354923b7b9">misn_markerAdd</a></div><div class="ttdeci">static int misn_markerAdd(lua_State *L)</div><div class="ttdoc">Adds a new marker.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00370">nlua_misn.c:370</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a342cd5d5548cf21ea8989455f12296d8"><div class="ttname"><a href="nlua__misn_8c.html#a342cd5d5548cf21ea8989455f12296d8">misn_npcRm</a></div><div class="ttdeci">static int misn_npcRm(lua_State *L)</div><div class="ttdoc">Removes an NPC.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00971">nlua_misn.c:971</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a566fb35f7a927f0ba197f0218346ce85"><div class="ttname"><a href="nlua__misn_8c.html#a566fb35f7a927f0ba197f0218346ce85">misn_finish</a></div><div class="ttdeci">static int misn_finish(lua_State *L)</div><div class="ttdoc">Finishes the mission.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00630">nlua_misn.c:630</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a7945d8650000779fb62cd8166a0ad4ba"><div class="ttname"><a href="nlua__misn_8c.html#a7945d8650000779fb62cd8166a0ad4ba">misn_setTitle</a></div><div class="ttdeci">static int misn_setTitle(lua_State *L)</div><div class="ttdoc">Mission Lua bindings.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00300">nlua_misn.c:300</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a98ab8ab7c1f02d12a7ffe6ad258faf4e"><div class="ttname"><a href="nlua__misn_8c.html#a98ab8ab7c1f02d12a7ffe6ad258faf4e">misn_setReward</a></div><div class="ttdeci">static int misn_setReward(lua_State *L)</div><div class="ttdoc">Sets the current mission reward description.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00341">nlua_misn.c:341</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_acf1a00e9782f1a6a4e9ba590012104da"><div class="ttname"><a href="nlua__misn_8c.html#acf1a00e9782f1a6a4e9ba590012104da">misn_cargoJet</a></div><div class="ttdeci">static int misn_cargoJet(lua_State *L)</div><div class="ttdoc">Jettisons the mission cargo.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00749">nlua_misn.c:749</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a90eabaf288a44f2977050735be73e989"><div class="ttname"><a href="nlua__misn_8c.html#a90eabaf288a44f2977050735be73e989">misn_osdGetActiveItem</a></div><div class="ttdeci">static int misn_osdGetActiveItem(lua_State *L)</div><div class="ttdoc">Gets the active OSD element.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00891">nlua_misn.c:891</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_afb82edc3c26d042d9b7afbea5363011f"><div class="ttname"><a href="nlua__misn_8c.html#afb82edc3c26d042d9b7afbea5363011f">misn_setNPC</a></div><div class="ttdeci">static int misn_setNPC(lua_State *L)</div><div class="ttdoc">Sets the current mission NPC.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00514">nlua_misn.c:514</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_aedabb17f821a3ddd1b25cccfb5de1f37"><div class="ttname"><a href="nlua__misn_8c.html#aedabb17f821a3ddd1b25cccfb5de1f37">misn_cargoAdd</a></div><div class="ttdeci">static int misn_cargoAdd(lua_State *L)</div><div class="ttdoc">Adds some mission cargo to the player. They cannot sell it nor get rid of it unless they abandons the...</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00694">nlua_misn.c:694</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a6a89f6a26fe28d972ad20012630a3830"><div class="ttname"><a href="nlua__misn_8c.html#a6a89f6a26fe28d972ad20012630a3830">misn_osdCreate</a></div><div class="ttdeci">static int misn_osdCreate(lua_State *L)</div><div class="ttdoc">Creates a mission OSD.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00785">nlua_misn.c:785</a></div></div>
<div class="ttc" id="anlua__misn_8c_html_a6bdc938a8d4843a42addeba1c2f4a703"><div class="ttname"><a href="nlua__misn_8c.html#a6bdc938a8d4843a42addeba1c2f4a703">misn_cargoRm</a></div><div class="ttdeci">static int misn_cargoRm(lua_State *L)</div><div class="ttdoc">Removes the mission cargo.</div><div class="ttdef"><b>Definition:</b> <a href="nlua__misn_8c_source.html#l00720">nlua_misn.c:720</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
